<!DOCTYPE html>
<html>
<head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.6.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"url": "https://cdn.jsdelivr.net/npm/vega-datasets@v1.29.0/data/us-10m.json", "format": {"feature": "states", "type": "topojson"}}, "mark": {"type": "geoshape"}, "encoding": {"color": {"field": "Accidents", "legend": {"title": "Accidents"}, "scale": {"domain": [-2.2094942727192706, 0.6791614123586562], "scheme": "viridis"}, "type": "quantitative"}, "tooltip": [{"field": "Accidents", "type": "quantitative"}]}, "height": 400, "projection": {"type": "albersUsa"}, "title": "Increase in Accidents from 2018 to 2020", "transform": [{"lookup": "id", "from": {"data": {"name": "data-8225da3fe95afb51f8d81a7c8f5872ee"}, "key": "id", "fields": ["Accidents"]}}], "width": 700, "$schema": "https://vega.github.io/schema/vega-lite/v5.6.1.json", "datasets": {"data-8225da3fe95afb51f8d81a7c8f5872ee": [{"State": "Alabama", "2018": 8.630788900469419, "2019": 8.140419584141796, "2020": 6.888059493173431, "change": -1.7427294072959878, "id": "1", "Accidents": -1.7427294072959878}, {"State": "Alaska", "2018": 3.2844781819561804, "2019": 3.041397430659189, "2020": 1.3635547480155008, "change": -1.9209234339406795, "id": "2", "Accidents": -1.9209234339406795}, {"State": "Arizona", "2018": 5.300329302020872, "2019": 5.311685391956173, "2020": 4.657240331568981, "change": -0.643088970451891, "id": "4", "Accidents": -0.643088970451891}, {"State": "Arkansas", "2018": 7.304088898544521, "2019": 7.127525661689813, "2020": 7.983250310903177, "change": 0.6791614123586562, "id": "5", "Accidents": 0.6791614123586562}, {"State": "California", "2018": 2.896501068028851, "2019": 3.153819936670139, "2020": 2.323173737564515, "change": -0.5733273304643363, "id": "6", "Accidents": -0.5733273304643363}, {"State": "Colorado", "2018": 3.777966538493201, "2019": 3.602606615049284, "2020": 2.848090149332478, "change": -0.9298763891607229, "id": "8", "Accidents": -0.9298763891607229}, {"State": "Connecticut", "2018": 2.1948933764628884, "2019": 1.9401876720915239, "2020": 1.6800981693087786, "change": -0.5147952071541098, "id": "9", "Accidents": -0.5147952071541098}, {"State": "Delaware", "2018": 4.075671534305698, "2019": 5.342325005432213, "2020": 3.236732718695616, "change": -0.8389388156100823, "id": "10", "Accidents": -0.8389388156100823}, {"State": "District of Columbia", "2018": 0.0, "2019": 0.0, "2020": 0.0399643591862997, "change": 0.0399643591862997, "id": null, "Accidents": 0.0399643591862997}, {"State": "Florida", "2018": 5.914838244967198, "2019": 6.032441413718294, "2020": 5.278274948487244, "change": -0.6365632964799541, "id": "12", "Accidents": -0.6365632964799541}, {"State": "Georgia", "2018": 5.711806780924574, "2019": 5.597743196742649, "2020": 5.2295761297954835, "change": -0.4822306511290906, "id": "13", "Accidents": -0.4822306511290906}, {"State": "Hawaii", "2018": 2.2302655247137246, "2019": 2.319827664107706, "2020": 0.5325035856451268, "change": -1.6977619390685978, "id": "15", "Accidents": -1.6977619390685978}, {"State": "Idaho", "2018": 4.931891778841154, "2019": 4.615057097007677, "2020": 3.149399071047151, "change": -1.7824927077940025, "id": "16", "Accidents": -1.7824927077940025}, {"State": "Illinois", "2018": 2.0627715547791774, "2019": 2.4323398094944544, "2020": 2.0904922303125186, "change": 0.027720675533341232, "id": "17", "Accidents": 0.027720675533341232}, {"State": "Indiana", "2018": 4.612248471966357, "2019": 4.571163132567622, "2020": 4.014168569170065, "change": -0.5980799027962922, "id": "18", "Accidents": -0.5980799027962922}, {"State": "Iowa", "2018": 3.152090766043218, "2019": 3.8618246289706004, "2020": 2.666959569907114, "change": -0.4851311961361042, "id": "19", "Accidents": -0.4851311961361042}, {"State": "Kansas", "2018": 5.290963122719186, "2019": 5.2643785221170925, "2020": 4.562856236005331, "change": -0.7281068867138547, "id": "20", "Accidents": -0.7281068867138547}, {"State": "Kentucky", "2018": 6.726763226210069, "2019": 6.705100417151877, "2020": 6.066377814475075, "change": -0.6603854117349943, "id": "21", "Accidents": -0.6603854117349943}, {"State": "Louisiana", "2018": 7.109679725153281, "2019": 6.545870449706548, "2020": 6.350898388447243, "change": -0.7587813367060381, "id": "22", "Accidents": -0.7587813367060381}, {"State": "Maine", "2018": 3.2945079994688666, "2019": 4.2691992992845345, "2020": 3.5383490044612715, "change": 0.2438410049924049, "id": "23", "Accidents": 0.2438410049924049}, {"State": "Maryland", "2018": 2.390767663884097, "2019": 2.8875620765694645, "2020": 2.2834715735870175, "change": -0.10729609029707943, "id": "24", "Accidents": -0.10729609029707943}, {"State": "Massachusetts", "2018": 0.413992203112568, "2019": 0.8906264693053416, "2020": 0.0, "change": -0.413992203112568, "id": "25", "Accidents": -0.413992203112568}, {"State": "Michigan", "2018": 3.062510336757906, "2019": 3.3630628361800365, "2020": 2.9330664117441465, "change": -0.12944392501375956, "id": "26", "Accidents": -0.12944392501375956}, {"State": "Minnesota", "2018": 1.2282311600113038, "2019": 1.5822344763105727, "2020": 0.980790507122832, "change": -0.24744065288847183, "id": "27", "Accidents": -0.24744065288847183}, {"State": "Mississippi", "2018": 10.0, "2019": 9.292862589761706, "2020": 9.999999999999998, "change": -1.7763568394002505e-15, "id": "28", "Accidents": -1.7763568394002505e-15}, {"State": "Missouri", "2018": 6.0640339426687255, "2019": 5.805320959333646, "2020": 5.533461838718701, "change": -0.5305721039500249, "id": "29", "Accidents": -0.5305721039500249}, {"State": "Montana", "2018": 7.210436613798594, "2019": 7.046981946142406, "2020": 7.106635457595049, "change": -0.10380115620354502, "id": "30", "Accidents": -0.10380115620354502}, {"State": "Nebraska", "2018": 3.8921985704074804, "2019": 4.451538362020067, "2020": 3.529927281881834, "change": -0.3622712885256463, "id": "31", "Accidents": -0.3622712885256463}, {"State": "Nevada", "2018": 3.458935779662125, "2019": 3.482775155170499, "2020": 2.6000100985986796, "change": -0.8589256810634454, "id": "32", "Accidents": -0.8589256810634454}, {"State": "New Hampshire", "2018": 3.5525865689538105, "2019": 1.9877647152669746, "2020": 1.34309229623454, "change": -2.2094942727192706, "id": "33", "Accidents": -2.2094942727192706}, {"State": "New Jersey", "2018": 1.0450934873255604, "2019": 1.579285798148914, "2020": 0.7710822174223728, "change": -0.2740112699031876, "id": "34", "Accidents": -0.2740112699031876}, {"State": "New Mexico", "2018": 7.9167665371862785, "2019": 8.219867506933864, "2020": 6.904841493083984, "change": -1.011925044102295, "id": "35", "Accidents": -1.011925044102295}, {"State": "New York", "2018": 0.27068253437192036, "2019": 0.7953773102278843, "2020": 0.11230854288513203, "change": -0.15837399148678832, "id": "36", "Accidents": -0.15837399148678832}, {"State": "North Carolina", "2018": 5.289637350081286, "2019": 5.580350819510226, "2020": 4.754075947959163, "change": -0.5355614021221227, "id": "37", "Accidents": -0.5355614021221227}, {"State": "North Dakota", "2018": 5.207819111538059, "2019": 5.008882688232112, "2020": 4.282138470053556, "change": -0.9256806414845036, "id": "38", "Accidents": -0.9256806414845036}, {"State": "Ohio", "2018": 2.706773393038143, "2019": 3.276065575904301, "2020": 2.796277843431918, "change": 0.08950445039377497, "id": "39", "Accidents": 0.08950445039377497}, {"State": "Oklahoma", "2018": 6.965497914586207, "2019": 6.60819923293011, "2020": 5.667387706617177, "change": -1.2981102079690299, "id": "40", "Accidents": -1.2981102079690299}, {"State": "Oregon", "2018": 4.0085942521791385, "2019": 4.354102879574244, "2020": 3.3729575986850904, "change": -0.6356366534940481, "id": "41", "Accidents": -0.6356366534940481}, {"State": "Pennsylvania", "2018": 2.767052039042698, "2019": 2.6201849354461197, "2020": 1.9279309527445534, "change": -0.8391210862981446, "id": "42", "Accidents": -0.8391210862981446}, {"State": "Rhode Island", "2018": 0.656353416300171, "2019": 1.0704352289829455, "2020": 0.8102221848559141, "change": 0.15386876855574316, "id": "44", "Accidents": 0.15386876855574316}, {"State": "South Carolina", "2018": 9.235727599176041, "2019": 8.450610419401459, "2020": 7.601184532946673, "change": -1.6345430662293676, "id": "45", "Accidents": -1.6345430662293676}, {"State": "South Dakota", "2018": 5.187529039706504, "2019": 3.877034602248866, "2020": 5.549150458288954, "change": 0.36162141858245, "id": "46", "Accidents": 0.36162141858245}, {"State": "Tennessee", "2018": 6.3371445256176795, "2019": 6.883312791486368, "2020": 6.347755090386123, "change": 0.010610564768443354, "id": "47", "Accidents": 0.010610564768443354}, {"State": "Texas", "2018": 4.543914836961406, "2019": 4.68296932786326, "2020": 4.032539787095936, "change": -0.5113750498654701, "id": "48", "Accidents": -0.5113750498654701}, {"State": "Utah", "2018": 1.9915486053941556, "2019": 2.214326999722946, "2020": 1.7671659773773287, "change": -0.22438262801682685, "id": "49", "Accidents": -0.22438262801682685}, {"State": "Vermont", "2018": 3.4007766818639857, "2019": 2.2331859319515264, "2020": 2.4814285201079516, "change": -0.9193481617560342, "id": "50", "Accidents": -0.9193481617560342}, {"State": "Virginia", "2018": 3.0833764790378937, "2019": 3.3778817572600923, "2020": 2.4981689788871826, "change": -0.5852075001507111, "id": "51", "Accidents": -0.5852075001507111}, {"State": "Washington", "2018": 1.3844343961631416, "2019": 2.054601582356157, "2020": 1.1724039124273733, "change": -0.21203048373576827, "id": "53", "Accidents": -0.21203048373576827}, {"State": "West Virginia", "2018": 6.678846038325089, "2019": 6.0539475026466905, "2020": 4.989119557827199, "change": -1.6897264804978898, "id": "54", "Accidents": -1.6897264804978898}, {"State": "Wisconsin", "2018": 3.0865741770820274, "2019": 3.36834969900538, "2020": 2.666883385978286, "change": -0.4196907911037413, "id": "55", "Accidents": -0.4196907911037413}, {"State": "Wyoming", "2018": 8.258309465076504, "2019": 10.0, "2020": 8.153574271065335, "change": -0.1047351940111696, "id": "56", "Accidents": -0.1047351940111696}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>